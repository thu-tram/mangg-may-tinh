<!DOCTYPE HTML>
<html lang="vi" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>ARP: Connecting Layers 2 and 3 - Mạngg máy tính - Thư trạm</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">Introduction</li><li class="chapter-item expanded "><a href="../intro/intro.html"><strong aria-hidden="true">1.</strong> Giới thiệu về Internet</a></li><li class="chapter-item expanded "><a href="../intro/layers.html"><strong aria-hidden="true">2.</strong> Các Layer của Internet</a></li><li class="chapter-item expanded "><a href="../intro/headers.html"><strong aria-hidden="true">3.</strong> Headers</a></li><li class="chapter-item expanded "><a href="../intro/architecture.html"><strong aria-hidden="true">4.</strong> Kiến trúc mạng</a></li><li class="chapter-item expanded "><a href="../intro/sharing-resources.html"><strong aria-hidden="true">5.</strong> Designing Resource Sharing</a></li><li class="chapter-item expanded "><a href="../intro/links.html"><strong aria-hidden="true">6.</strong> Links</a></li><li class="chapter-item expanded affix "><li class="part-title">Routing</li><li class="chapter-item expanded "><a href="../routing/intro.html"><strong aria-hidden="true">7.</strong> Introduction to Routing</a></li><li class="chapter-item expanded "><a href="../routing/model.html"><strong aria-hidden="true">8.</strong> Model for Intra-Domain Routing</a></li><li class="chapter-item expanded "><a href="../routing/solutions.html"><strong aria-hidden="true">9.</strong> Routing States</a></li><li class="chapter-item expanded "><a href="../routing/distance-vector.html"><strong aria-hidden="true">10.</strong> Distance-Vector Protocols</a></li><li class="chapter-item expanded "><a href="../routing/link-state.html"><strong aria-hidden="true">11.</strong> Link-State Protocols</a></li><li class="chapter-item expanded "><a href="../routing/addressing.html"><strong aria-hidden="true">12.</strong> Addressing</a></li><li class="chapter-item expanded "><a href="../routing/router.html"><strong aria-hidden="true">13.</strong> Router Hardware</a></li><li class="chapter-item expanded "><a href="../routing/autonomous-systems.html"><strong aria-hidden="true">14.</strong> Model for Inter-Domain Routing</a></li><li class="chapter-item expanded "><a href="../routing/bgp.html"><strong aria-hidden="true">15.</strong> Border Gateway Protocol (BGP)</a></li><li class="chapter-item expanded "><a href="../routing/bgp-implementation.html"><strong aria-hidden="true">16.</strong> BGP Implementation and Issues</a></li><li class="chapter-item expanded "><a href="../routing/ip-header.html"><strong aria-hidden="true">17.</strong> IP Header</a></li><li class="chapter-item expanded affix "><li class="part-title">Transport</li><li class="chapter-item expanded "><a href="../transport/reliability.html"><strong aria-hidden="true">18.</strong> Transport Layer Principles</a></li><li class="chapter-item expanded "><a href="../transport/tcp-design.html"><strong aria-hidden="true">19.</strong> TCP Design</a></li><li class="chapter-item expanded "><a href="../transport/tcp-implementation.html"><strong aria-hidden="true">20.</strong> TCP Implementation</a></li><li class="chapter-item expanded "><a href="../transport/cc-principles.html"><strong aria-hidden="true">21.</strong> Congestion Control Principles</a></li><li class="chapter-item expanded "><a href="../transport/cc-design.html"><strong aria-hidden="true">22.</strong> Congestion Control Design</a></li><li class="chapter-item expanded "><a href="../transport/cc-implementation.html"><strong aria-hidden="true">23.</strong> Congestion Control Implementation</a></li><li class="chapter-item expanded "><a href="../transport/throughput-model.html"><strong aria-hidden="true">24.</strong> TCP Throughput Model</a></li><li class="chapter-item expanded "><a href="../transport/cc-issues.html"><strong aria-hidden="true">25.</strong> Congestion Control Issues</a></li><li class="chapter-item expanded "><a href="../transport/router-based-cc.html"><strong aria-hidden="true">26.</strong> Router-Assisted Congestion Control</a></li><li class="chapter-item expanded affix "><li class="part-title">Applications</li><li class="chapter-item expanded "><a href="../applications/dns.html"><strong aria-hidden="true">27.</strong> DNS</a></li><li class="chapter-item expanded "><a href="../applications/http.html"><strong aria-hidden="true">28.</strong> HTTP</a></li><li class="chapter-item expanded affix "><li class="part-title">End-to-End</li><li class="chapter-item expanded "><a href="../end-to-end/ethernet.html"><strong aria-hidden="true">29.</strong> Ethernet</a></li><li class="chapter-item expanded "><a href="../end-to-end/l2-routing.html"><strong aria-hidden="true">30.</strong> Layer 2 Routing (STP)</a></li><li class="chapter-item expanded "><a href="../end-to-end/arp.html" class="active"><strong aria-hidden="true">31.</strong> ARP: Connecting Layers 2 and 3</a></li><li class="chapter-item expanded "><a href="../end-to-end/dhcp.html"><strong aria-hidden="true">32.</strong> DHCP: Joining Networks</a></li><li class="chapter-item expanded "><a href="../end-to-end/nat.html"><strong aria-hidden="true">33.</strong> NAT: Network Address Translation</a></li><li class="chapter-item expanded "><a href="../end-to-end/tls.html"><strong aria-hidden="true">34.</strong> TLS: Secure Bytestreams</a></li><li class="chapter-item expanded "><a href="../end-to-end/end-to-end.html"><strong aria-hidden="true">35.</strong> End-to-End Connectivity</a></li><li class="chapter-item expanded affix "><li class="part-title">Datacenters</li><li class="chapter-item expanded "><a href="../datacenter/topology.html"><strong aria-hidden="true">36.</strong> Topologies</a></li><li class="chapter-item expanded "><a href="../datacenter/datacenter-cc.html"><strong aria-hidden="true">37.</strong> Congestion Control</a></li><li class="chapter-item expanded "><a href="../datacenter/datacenter-routing.html"><strong aria-hidden="true">38.</strong> Routing</a></li><li class="chapter-item expanded "><a href="../datacenter/datacenter-addressing.html"><strong aria-hidden="true">39.</strong> Addressing</a></li><li class="chapter-item expanded "><a href="../datacenter/virtualization.html"><strong aria-hidden="true">40.</strong> Virtualization</a></li><li class="chapter-item expanded "><a href="../datacenter/sdn.html"><strong aria-hidden="true">41.</strong> Software-Defined Networking</a></li><li class="chapter-item expanded "><a href="../datacenter/host-networking.html"><strong aria-hidden="true">42.</strong> Host Networking</a></li><li class="chapter-item expanded affix "><li class="part-title">Beyond Client-Server</li><li class="chapter-item expanded "><a href="../beyond-client-server/intro.html"><strong aria-hidden="true">43.</strong> Multicast</a></li><li class="chapter-item expanded "><a href="../beyond-client-server/ip-multicast-service-model.html"><strong aria-hidden="true">44.</strong> IP Multicast</a></li><li class="chapter-item expanded "><a href="../beyond-client-server/dvmrp.html"><strong aria-hidden="true">45.</strong> DVMRP</a></li><li class="chapter-item expanded "><a href="../beyond-client-server/cbt.html"><strong aria-hidden="true">46.</strong> Core-Based Trees</a></li><li class="chapter-item expanded "><a href="../beyond-client-server/ip-multicast-challenges.html"><strong aria-hidden="true">47.</strong> IP Multicast Challenges</a></li><li class="chapter-item expanded "><a href="../beyond-client-server/overlay-multicast.html"><strong aria-hidden="true">48.</strong> Overlay Multicast</a></li><li class="chapter-item expanded "><a href="../beyond-client-server/collective-operations.html"><strong aria-hidden="true">49.</strong> Collective Operations</a></li><li class="chapter-item expanded "><a href="../beyond-client-server/collective-implementations.html"><strong aria-hidden="true">50.</strong> Collective Implementations</a></li><li class="chapter-item expanded affix "><li class="part-title">Wireless</li><li class="chapter-item expanded "><a href="../wireless/wireless-links.html"><strong aria-hidden="true">51.</strong> Wireless Links</a></li><li class="chapter-item expanded "><a href="../wireless/cellular.html"><strong aria-hidden="true">52.</strong> Cellular</a></li><li class="chapter-item expanded affix "><li class="part-title">Glossary</li><li class="chapter-item expanded "><a href="../glossary.html"><strong aria-hidden="true">53.</strong> Glossary</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Mạngg máy tính - Thư trạm</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/thu-tram/mangg-may-tinh/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="arp-kết-nối-lớp-2-và-lớp-3"><a class="header" href="#arp-kết-nối-lớp-2-và-lớp-3">ARP: Kết nối Lớp 2 và Lớp 3</a></h1>
<h2 id="kết-nối-lớp-2-và-lớp-3"><a class="header" href="#kết-nối-lớp-2-và-lớp-3">Kết nối Lớp 2 và Lớp 3</a></h2>
<p>Hãy nhớ lại rằng các <em>packets</em> (gói tin) được bọc thêm các <em>headers</em> (phần đầu) khi chúng di chuyển xuống chồng giao thức, đến các lớp thấp hơn. Để gửi một <em>IP packet</em> (gói tin IP), trước tiên chúng ta điền địa chỉ IP đích của nó ở <em>Layer 3</em> (Lớp 3). Sau đó, chúng ta chuyển <em>packet</em> đó xuống <em>Layer 2</em> (Lớp 2), nơi chúng ta phải thêm một <em>MAC address</em> (địa chỉ MAC) để gửi <em>packet</em> đi dọc theo <em>link</em>. Chúng ta sẽ thêm <em>MAC address</em> nào?</p>
<img width="800px" src="../assets/end-to-end/5-041-arp-blank-mac.png">
<p>Đầu tiên, chúng ta cần kiểm tra xem IP đích có phải là một ai đó trong <em>local network</em> của chúng ta, hay là một ai đó trong một <em>local network</em> khác. Để xác định điều này, <em>forwarding table</em> (bảng chuyển tiếp) của người gửi sẽ có một mục nhập chỉ ra dải địa chỉ IP cục bộ, đôi khi được gọi là <em>subnet</em> (mạng con) của chúng ta. Ví dụ, mục nhập có thể nói rằng 192.0.2.0/24 là <em>direct</em> (trực tiếp), có nghĩa là tất cả các địa chỉ từ 192.0.2.0 đến 192.0.2.255 đều nằm trên cùng một <em>local network</em>. Bảng này cũng có một <em>default route</em> (tuyến mặc định), cho biết rằng tất cả các đích khác không thuộc mạng cục bộ sẽ được chuyển tiếp đến <em>router</em>.</p>
<p>Nếu IP đích nằm trong <em>subnet</em> của chúng ta, chúng ta cần một cách nào đó để dịch giữa địa chỉ IP đích và <em>MAC address</em> tương ứng của máy đó. Nếu đích nằm ngoài <em>subnet</em> của chúng ta, chúng ta cần một cách nào đó để dịch địa chỉ IP của <em>router</em> (từ <em>forwarding table</em>) sang <em>MAC address</em> tương ứng của nó, để chúng ta có thể gửi <em>packet</em> đến <em>router</em>.</p>
<p>Một giải pháp ngây thơ là <em>broadcast</em> (quảng bá) mọi <em>packet</em>, để đích hoặc <em>router</em> chắc chắn sẽ nhận và xử lý nó. Tuy nhiên, điều này không hiệu quả. Nó buộc mọi người phải phân tích cú pháp mọi <em>packet</em> (ví dụ: đọc các <em>headers</em> <em>Layer 3</em>) để kiểm tra xem <em>packet</em> có dành cho họ hay không. Ngoài ra, nếu mạng <em>Layer 2</em> có nhiều hơn một <em>link</em>, các <em>switches</em> ở <em>Layer 2</em> phải <em>flood</em> (tràn ngập) <em>packet</em> trên tất cả các <em>links</em>.</p>
<p>Một cách tiếp cận tốt hơn là dịch địa chỉ IP đích sang <em>MAC address</em> tương ứng của nó (nếu là cục bộ) hoặc <em>MAC address</em> của <em>router</em> (nếu không phải cục bộ), và <em>unicast</em> (truyền đơn hướng) <em>packet</em> ở <em>Layer 2</em>.</p>
<h2 id="arp-address-resolution-protocol"><a class="header" href="#arp-address-resolution-protocol">ARP: Address Resolution Protocol</a></h2>
<p><strong>ARP (Address Resolution Protocol - Giao thức phân giải địa chỉ)</strong> cho phép các máy dịch một địa chỉ IP thành <em>MAC address</em> tương ứng của nó.</p>
<p>Để yêu cầu một bản dịch, một máy có thể <em>broadcast</em> một thông điệp yêu cầu: &quot;Tôi có <em>MAC address</em> <em>f8:ff:c2:2b:36:16</em>. <em>MAC address</em> của máy có IP 192.0.2.1 là gì?&quot;</p>
<p>Tất cả các máy không có địa chỉ IP này sẽ bỏ qua thông điệp. Người dùng có địa chỉ IP này sẽ <em>unicast</em> một phản hồi đến <em>MAC address</em> của người gửi, nói rằng &quot;Tôi là 192.0.2.1, và <em>MAC address</em> của tôi là <em>a2:ff:28:02:f2:10</em>.&quot;</p>
<p>Các máy cũng có thể <em>broadcast</em> ánh xạ IP-tới-MAC của chính chúng cho mọi người, ngay cả khi không ai hỏi.</p>
<p>Khi bạn nhận được một ánh xạ IP-tới-MAC, bạn có thể thêm nó vào <em>ARP Table</em> (Bảng ARP) cục bộ của mình, bảng này lưu trữ các ánh xạ này để sử dụng trong tương lai. Bảng này cũng bao gồm ngày hết hạn cho mỗi mục nhập, vì địa chỉ IP không được gán vĩnh viễn cho một máy tính. Một máy tính khác có thể được gán cùng một địa chỉ IP, hoặc cùng một máy tính có thể thay đổi địa chỉ IP. (TODO: interfaces?)</p>
<p>Bước 1:</p>
<img width="900px" src="../assets/end-to-end/5-042-arp1.png">
<p>Bước 2:</p>
<img width="900px" src="../assets/end-to-end/5-043-arp2.png">
<p>Bước 3:</p>
<img width="900px" src="../assets/end-to-end/5-044-arp3.png">
<p>Bước 4:</p>
<img width="900px" src="../assets/end-to-end/5-045-arp4.png">
<p>Lưu ý rằng <em>ARP</em> chạy trực tiếp trên <em>Layer 2</em>, vì vậy tất cả các <em>packets</em> được gửi và nhận qua <em>Ethernet</em>, không phải <em>IP</em>.</p>
<img width="900px" src="../assets/end-to-end/5-046-arp5.png">
<h2 id="kết-nối-bảng-arp-và-bảng-chuyển-tiếp"><a class="header" href="#kết-nối-bảng-arp-và-bảng-chuyển-tiếp">Kết nối Bảng ARP và Bảng Chuyển tiếp</a></h2>
<p>Hãy nhớ lại rằng trong <em>forwarding table</em> của một <em>router</em>, đôi khi chúng ta sẽ bao gồm một mục nhập chỉ ra rằng một <em>host</em> được kết nối trực tiếp với <em>router</em>.</p>
<p>Trong thực tế, <em>forwarding table</em> của <em>router</em> chứa một mục nhập duy nhất, ánh xạ toàn bộ dải địa chỉ IP của <em>subnet</em> là <em>direct</em>. Nếu <em>router</em> nhận được một <em>packet</em> có đích nằm trong dải cục bộ này, <em>router</em> sẽ chạy <em>ARP</em> để tìm <em>MAC address</em> tương ứng, và sử dụng <em>Layer 2</em> để gửi <em>packet</em> đến đúng <em>host</em> trên <em>link</em>.</p>
<img width="600px" src="../assets/end-to-end/5-047-direct-route.png">
<p>Điều này cũng giúp chúng ta trong trường hợp nhiều <em>hosts</em> được kết nối trên cùng một <em>link</em>. Trong hình ảnh khái niệm của chúng ta, chúng ta sẽ nói rằng <em>Host</em> A được kết nối trực tiếp trên Cổng 1. Nhiều <em>hosts</em> có thể nằm trên <em>link</em> đó, vì vậy bằng cách sử dụng <em>ARP</em>, chúng ta có thể tạo ra một <em>packet</em> <em>Layer 2</em> được <em>unicast</em> chỉ đến <em>Host</em> A, chứ không phải các máy tính khác trên <em>link</em>.</p>
<p>Với một mục nhập chuyển tiếp ánh xạ một <em>subnet</em> như 192.0.2.0/24 là <em>direct</em>, làm thế nào chúng ta có thể xác định xem một địa chỉ IP đã cho có nằm trong dải đó hay không? Đây là lúc việc viết các dải địa chỉ bằng <em>netmask</em> (mặt nạ mạng) thay vì <em>slash notation</em> (ký hiệu gạch chéo) trở nên hữu ích. Hãy nhớ lại rằng để viết dải này dưới dạng <em>netmask</em>, chúng ta đặt tất cả các bit cố định thành 1 và tất cả các bit không cố định thành 0, để có được 255.255.255.0. Sau đó, dải được biểu thị là 192.0.2.0 với <em>netmask</em> 255.255.255.0.</p>
<p>Bây giờ, để kiểm tra xem một địa chỉ có nằm trong dải hay không, chúng ta thực hiện phép toán AND bit của địa chỉ và <em>netmask</em>. Điều này làm cho tất cả các bit thấp không cố định bị đưa về 0, chỉ giữ lại các bit cao cố định. Sau đó, chúng ta kiểm tra xem kết quả có khớp với 192.0.2.0 (địa chỉ đầu tiên trong dải, nơi tất cả các bit không cố định là 0) hay không.</p>
<p>Lưu ý rằng khi các <em>packets</em> được chuyển tiếp qua các <em>hops</em> (chặng), đích <em>Layer 2</em> sẽ thay đổi thành <em>MAC address</em> của <em>hop</em> tiếp theo, để các <em>packets</em> có thể di chuyển qua các <em>links</em>. Tuy nhiên, đích <em>Layer 3</em> vẫn giữ nguyên qua mỗi <em>hop</em>.</p>
<img width="700px" src="../assets/end-to-end/5-048-arp-filled-in-mac.png">
<h2 id="neighbor-discovery-trong-ipv6"><a class="header" href="#neighbor-discovery-trong-ipv6">Neighbor Discovery trong IPv6</a></h2>
<p><em>ARP</em> dịch địa chỉ IPv4 sang <em>MAC addresses</em>. Để dịch địa chỉ IPv6 sang <em>MAC addresses</em>, chúng ta sử dụng một giao thức tương tự gọi là <strong>neighbor discovery</strong> (khám phá lân cận).</p>
<p>Thay vì <em>broadcast</em> yêu cầu dịch IP-tới-MAC, <em>neighbor discovery</em> thay vào đó <em>multicasts</em> (truyền đa hướng) yêu cầu đến một nhóm cụ thể, và mỗi máy tính lắng nghe trên một nhóm cụ thể dựa trên địa chỉ IP của nó. Ví dụ, tất cả mọi người có địa chỉ IP kết thúc bằng 12:3456 có thể lắng nghe trên nhóm <em>MAC address</em> 33:33:FF:12:34:56, trong khi tất cả mọi người có địa chỉ IP kết thúc bằng 78:90AB có thể lắng nghe trên nhóm <em>MAC address</em> 33:33:FF:78:90:AB.</p>
<p>Nếu tôi muốn <em>MAC address</em> tương ứng với người dùng có địa chỉ IPv6 kết thúc bằng 12:3456, tôi có thể cắm các bit IPv6 đó vào <em>MAC address</em> nhóm để có được 33:33:FF:12:34:56, và tôi biết rằng người dùng có địa chỉ IP đó phải đang lắng nghe <em>MAC address</em> nhóm này.</p>
<img width="900px" src="../assets/end-to-end/5-049-neighbor-discovery.png">
<p>Một số thuật ngữ: Trong giao thức <em>neighbor discovery</em>, yêu cầu ánh xạ được gọi là <em>Neighbor Solicitation</em> (Yêu cầu thông tin lân cận), và phản hồi chứa ánh xạ được gọi là <em>Neighbor Advertisement</em> (Quảng cáo thông tin lân cận).</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../end-to-end/l2-routing.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../end-to-end/dhcp.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../end-to-end/l2-routing.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../end-to-end/dhcp.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
